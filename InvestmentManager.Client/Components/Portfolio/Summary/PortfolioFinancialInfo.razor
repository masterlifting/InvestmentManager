@inject HttpClient httpClient

<TitleSubInv Text="Финансовые показатели" />

<InfoInv Name="Общая стоимость(руб)" Value="@result.SummaryR" />
<InfoInv Name="Прибыльность" Value="@result.PercentProfit" />
<InfoInv Name="Чистые инвестиции" Value="@result.CleanInvestSum" />
<InfoInv Name="Общая стоимость" Value="@result.Summary" />
<InfoInv Name="Оборотная стоимость" Value="@result.CirculationSum" />
<InfoInv Color="ColorType.success" Name="Cвободный остаток" Value="@result.FreeSum" />
<InfoInv Color="ColorType.success" Name="Получено дивидендов" Value="@result.Dividends" />
<InfoInv Color="ColorType.danger" Name="Удержано комиссий" Value="@result.Comissions" />
<InfoInv Name="Курс купленных $" Value="@result.AvgDollarBuy" />
<InfoInv Name="Курс проданных $" Value="@result.AvgDollarSell" />

@code
{
    [CascadingParameter] Task<AuthenticationState> AuthenticationState { get; set; }
    [Parameter] public decimal Dollar { get; set; }
    PortfolioFinancialInfoModel result = new PortfolioFinancialInfoModel();

    protected override async Task OnParametersSetAsync()
    {
        var user = (await AuthenticationState).User;
        if (user.Identity.IsAuthenticated)
            result = await httpClient.GetFromJsonAsync<PortfolioFinancialInfoModel>($"portfolio/financial?dollar={Dollar}");
    }
}